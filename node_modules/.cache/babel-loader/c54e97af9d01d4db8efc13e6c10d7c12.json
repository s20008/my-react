{"ast":null,"code":"var _jsxFileName = \"/home/vagrant/projects/my-react/src/App.jsx\";\nimport React from 'react';\nimport { Button, Table, TableRow, TableBody, TableHead, TableCell } from '@material-ui/core';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Flag extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.search = () => {\n      this.loadData(this.URI, this.state.id);\n    };\n\n    this.clearInput = () => {\n      this.setState({\n        image: null,\n        cap: null,\n        reg: null\n      });\n      this.myInput.focus();\n    };\n\n    this.state = {\n      image: null,\n      cap: null,\n      reg: null,\n      id: null,\n      opacity: 1\n    };\n    this.URI = 'https://restcountries.eu/rest/v2/name/';\n  }\n\n  componentDidMount() {\n    this.timer = setInterval(() => {\n      let {\n        opacity\n      } = this.state;\n      opacity -= 0.025;\n      if (opacity <= 0) opacity = 1;\n      this.setState({\n        opacity: opacity\n      });\n    }, 100);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timer);\n  }\n\n  showData(event) {\n    this.setState({\n      id: event.target.value\n    });\n  }\n\n  async loadData(uri, id) {\n    const URI = uri + id;\n    const data = await window.fetch(URI).then(res => res.json()).then(json => json[0]).then(prefs => ({\n      cap: prefs.capital,\n      reg: prefs.region,\n      image: prefs.flag\n    })).catch(error => console.log(error));\n    this.setState(data);\n  }\n\n  render() {\n    const {\n      image,\n      cap,\n      reg\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          opacity: this.state.opacity\n        },\n        className: \"title\",\n        children: \"\\u5404\\u56FD\\u306E\\u60C5\\u5831\\u3092\\u691C\\u7D22\\u3057\\u3066\\u307F\\u3088\\u3046\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"set\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: event => this.showData(event),\n          placeholder: \"\\u82F1\\u8A9E\\u3067\\u56FD\\u540D\\u3092\\u5165\\u529B\\u3057\\u3066\\u4E0B\\u3055\\u3044\",\n          ref: myInput => this.myInput = myInput,\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"inherit\",\n          onClick: this.search,\n          children: \"\\u691C\\u7D22\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"inherit\",\n          onClick: this.clearInput,\n          children: \"\\u30EA\\u30BB\\u30C3\\u30C8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TestView, {\n        getImage: image,\n        getCapital: cap,\n        getRegion: reg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nclass TestView extends React.Component {\n  render() {\n    const {\n      getImage,\n      getCapital,\n      getRegion\n    } = this.props;\n    var image = '';\n\n    if (true) {\n      image = /*#__PURE__*/_jsxDEV(\"img\", {\n        src: getImage,\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 22\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(Table, {\n      className: \"centerTable\",\n      children: /*#__PURE__*/_jsxDEV(TableBody, {\n        children: [/*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(TableHead, {\n            children: \"\\u9996\\u90FD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: getCapital\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(TableHead, {\n            children: \"\\u5730\\u57DF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: getRegion\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(TableHead, {\n            children: \"\\u56FD\\u65D7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: image\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Flag;","map":{"version":3,"sources":["/home/vagrant/projects/my-react/src/App.jsx"],"names":["React","Button","Table","TableRow","TableBody","TableHead","TableCell","Flag","Component","constructor","props","search","loadData","URI","state","id","clearInput","setState","image","cap","reg","myInput","focus","opacity","componentDidMount","timer","setInterval","componentWillUnmount","clearInterval","showData","event","target","value","uri","data","window","fetch","then","res","json","prefs","capital","region","flag","catch","error","console","log","render","TestView","getImage","getCapital","getRegion"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {\n    Button,\n    Table,\n    TableRow,\n    TableBody,\n    TableHead,\n    TableCell\n} from '@material-ui/core'\nimport './App.css'\n\nclass Flag extends React.Component {\n            \n    constructor(props) {\n        super(props)\n        this.state = {image:null,cap:null,reg:null,id:null,opacity:1}\n        this.URI = 'https://restcountries.eu/rest/v2/name/'\n    }\n\n    componentDidMount(){\n        this.timer = setInterval(() => {\n            let {opacity} = this.state;\n            opacity -= 0.025\n            if (opacity <= 0) opacity = 1\n            this.setState({opacity:opacity})\n        },100);\n    }\n\n    componentWillUnmount(){\n        clearInterval(this.timer)\n    }\n\n\n    showData (event){\n        this.setState({id:event.target.value})\n    }\n\n    search=()=>{\n        this.loadData(this.URI, this.state.id)\n    }\n\n    clearInput=()=>{\n        this.setState({image:null,cap:null,reg:null})\n        this.myInput.focus()\n    }\n\n    async loadData (uri,id) {\n        const URI = uri + id \n        const data = await window.fetch(URI)\n            .then(res => res.json())\n            .then(json => json[0])\n            .then(prefs => ({\n                cap:prefs.capital,\n                reg:prefs.region,\n                image:prefs.flag\n            }))\n        .catch(error => console.log(error))\n        this.setState(data)\n    }\n\n\n    render(){\n        const {image,cap,reg} = this.state\n        return(\n            <div>\n                <h1 style={{opacity:this.state.opacity}} className=\"title\">各国の情報を検索してみよう</h1>\n                <div className=\"set\">\n                    <input onChange={event=>this.showData(event)} placeholder=\"英語で国名を入力して下さい\" ref = {myInput=>this.myInput=myInput} type=\"text\"/>&nbsp;\n                    <Button variant='contained' color='inherit' onClick={this.search}>検索</Button>&nbsp;\n                    <Button variant='contained' color='inherit' onClick={this.clearInput}>リセット</Button>\n                </div>\n                <TestView getImage={image} getCapital={cap} getRegion={reg}/>            \n            </div>\n                    \n        )\n    }\n}\n        \nclass TestView extends React.Component{\n    render(){\n        const {getImage,getCapital,getRegion} = this.props\n        var image = '';\n        if(true){\n            image = (<img src={getImage} alt=\"\"/>);\n        }\n        return(\n            <Table className=\"centerTable\">\n                <TableBody>\n                    <TableRow>\n                        <TableHead>首都</TableHead>\n                        <TableCell>{getCapital}</TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableHead>地域</TableHead>\n                        <TableCell>{getRegion}</TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableHead>国旗</TableHead>\n                        <TableCell>{image}</TableCell>\n                    </TableRow>\n                </TableBody>\n            </Table>\n        )\n    }\n}      \nexport default Flag\n"]},"metadata":{},"sourceType":"module"}