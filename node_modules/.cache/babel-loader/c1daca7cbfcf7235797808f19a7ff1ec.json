{"ast":null,"code":"import _regeneratorRuntime from\"/home/vagrant/projects/my-react/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/vagrant/projects/my-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/vagrant/projects/my-react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/vagrant/projects/my-react/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/vagrant/projects/my-react/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/vagrant/projects/my-react/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{Button,Table,TableRow,TableBody,TableHead,TableCell}from'@material-ui/core';import'./App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Flag=/*#__PURE__*/function(_React$Component){_inherits(Flag,_React$Component);var _super=_createSuper(Flag);function Flag(props){var _this;_classCallCheck(this,Flag);_this=_super.call(this,props);_this.search=function(){_this.loadData(_this.URI,_this.state.id);};_this.clearInput=function(){_this.setState({image:null,cap:null,reg:null});_this.myInput.focus();};_this.state={image:null,cap:null,reg:null,id:null,opacity:1};_this.URI='https://restcountries.eu/rest/v2/name/';return _this;}_createClass(Flag,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.timer=setInterval(function(){var opacity=_this2.state.opacity;opacity-=0.025;if(opacity<=0)opacity=1;_this2.setState({opacity:opacity});},100);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){clearInterval(this.timer);}},{key:\"showData\",value:function showData(event){this.setState({id:event.target.value});}},{key:\"loadData\",value:function(){var _loadData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(uri,id){var URI,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:URI=uri+id;_context.next=3;return window.fetch(URI).then(function(res){return res.json();}).then(function(json){return json[0];}).then(function(prefs){return{cap:prefs.capital,reg:prefs.region,image:prefs.flag};}).catch(function(error){return console.log(error);});case 3:data=_context.sent;this.setState(data);case 5:case\"end\":return _context.stop();}}},_callee,this);}));function loadData(_x,_x2){return _loadData.apply(this,arguments);}return loadData;}()},{key:\"render\",value:function render(){var _this3=this;var _this$state=this.state,image=_this$state.image,cap=_this$state.cap,reg=_this$state.reg;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{style:{opacity:this.state.opacity},children:\"\\u5404\\u56FD\\u306E\\u60C5\\u5831\\u3092\\u691C\\u7D22\\u3057\\u3066\\u307F\\u3088\\u3046\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(event){return _this3.showData(event);},placeholder:\"\\u82F1\\u8A9E\\u3067\\u56FD\\u540D\\u3092\\u5165\\u529B\\u3057\\u3066\\u4E0B\\u3055\\u3044\",ref:function ref(myInput){return _this3.myInput=myInput;},type:\"text\"}),\"\\xA0\",/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"inherit\",onClick:this.search,children:\"\\u691C\\u7D22\"}),\"\\xA0\",/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"inherit\",onClick:this.clearInput,children:\"\\u30EA\\u30BB\\u30C3\\u30C8\"}),/*#__PURE__*/_jsx(TestView,{getImage:image,getCapital:cap,getRegion:reg})]});}}]);return Flag;}(React.Component);var TestView=/*#__PURE__*/function(_React$Component2){_inherits(TestView,_React$Component2);var _super2=_createSuper(TestView);function TestView(){_classCallCheck(this,TestView);return _super2.apply(this,arguments);}_createClass(TestView,[{key:\"render\",value:function render(){var _this$props=this.props,getImage=_this$props.getImage,getCapital=_this$props.getCapital,getRegion=_this$props.getRegion;var image;if(true){image=/*#__PURE__*/_jsx(\"img\",{src:getImage,alt:\"\"});}return/*#__PURE__*/_jsx(Table,{children:/*#__PURE__*/_jsxs(TableBody,{children:[/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableHead,{children:\"\\u9996\\u90FD\"}),/*#__PURE__*/_jsx(TableCell,{children:getCapital})]}),/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableHead,{children:\"\\u5730\\u57DF\"}),/*#__PURE__*/_jsx(TableCell,{children:getRegion})]}),/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableHead,{children:\"\\u56FD\\u65D7\"}),/*#__PURE__*/_jsx(TableCell,{children:image})]})]})});}}]);return TestView;}(React.Component);export default Flag;","map":{"version":3,"sources":["/home/vagrant/projects/my-react/src/App.jsx"],"names":["React","Button","Table","TableRow","TableBody","TableHead","TableCell","Flag","props","search","loadData","URI","state","id","clearInput","setState","image","cap","reg","myInput","focus","opacity","timer","setInterval","clearInterval","event","target","value","uri","window","fetch","then","res","json","prefs","capital","region","flag","catch","error","console","log","data","showData","Component","TestView","getImage","getCapital","getRegion"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {\n    Button,\n    Table,\n    TableRow,\n    TableBody,\n    TableHead,\n    TableCell\n} from '@material-ui/core'\nimport './App.css'\n\nclass Flag extends React.Component {\n            \n    constructor(props) {\n        super(props)\n        this.state = {image:null,cap:null,reg:null,id:null,opacity:1}\n        this.URI = 'https://restcountries.eu/rest/v2/name/'\n    }\n\n    componentDidMount(){\n        this.timer = setInterval(() => {\n            let {opacity} = this.state;\n            opacity -= 0.025\n            if (opacity <= 0) opacity = 1\n            this.setState({opacity:opacity})\n        },100);\n    }\n\n    componentWillUnmount(){\n        clearInterval(this.timer)\n    }\n\n\n    showData (event){\n        this.setState({id:event.target.value})\n    }\n\n    search=()=>{\n        this.loadData(this.URI, this.state.id)\n    }\n\n    clearInput=()=>{\n        this.setState({image:null,cap:null,reg:null})\n        this.myInput.focus()\n    }\n\n    async loadData (uri,id) {\n        const URI = uri + id \n        const data = await window.fetch(URI)\n            .then(res => res.json())\n            .then(json => json[0])\n            .then(prefs => ({\n                cap:prefs.capital,\n                reg:prefs.region,\n                image:prefs.flag\n            }))\n        .catch(error => console.log(error))\n        this.setState(data)\n    }\n\n\n    render(){\n        const {image,cap,reg} = this.state\n        return(\n            <div>\n                <h1 style={{opacity:this.state.opacity}}>各国の情報を検索してみよう</h1>\n                \n                <input onChange={event=>this.showData(event)} placeholder=\"英語で国名を入力して下さい\" ref = {myInput=>this.myInput=myInput} type=\"text\"/>&nbsp;\n                <Button variant='contained' color='inherit' onClick={this.search}>検索</Button>&nbsp;\n                <Button variant='contained' color='inherit' onClick={this.clearInput}>リセット</Button>\n                <TestView getImage={image} getCapital={cap} getRegion={reg}/>            \n            </div>\n                    \n        )\n    }\n}\n        \nclass TestView extends React.Component{\n    render(){\n        const {getImage,getCapital,getRegion} = this.props\n        var image \n        if(true){\n            image = (<img src={getImage} alt=\"\"/>);\n        }\n        return(\n            <Table>\n                <TableBody>\n                    <TableRow>\n                        <TableHead>首都</TableHead>\n                        <TableCell>{getCapital}</TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableHead>地域</TableHead>\n                        <TableCell>{getRegion}</TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableHead>国旗</TableHead>\n                        <TableCell>{image}</TableCell>\n                    </TableRow>\n                </TableBody>\n            </Table>\n        )\n    }\n}      \nexport default Flag\n"]},"metadata":{},"sourceType":"module"}